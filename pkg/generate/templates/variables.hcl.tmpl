variable "datacenters" {
  description = "A list of datacenters in the region which are eligible for task placement"
  type        = list(string)
  default     = ["dc1"]
}

variable "region" {
  description = "The region where the job should be placed"
  type        = string
  default     = "global"
}

variable "count" {
  description = "The number of MCP server instances to run"
  type        = number
  default     = 1
}

variable "cpu" {
  description = "The number of CPU units to reserve for the MCP server task"
  type        = number
  default     = 100
}

variable "memory" {
  description = "The amount of memory in MB to reserve for the MCP server task"
  type        = number
  default     = 256
}

{{- if .HasEnvironment}}
{{- range .Environment}}
variable "{{.Name | lower}}" {
  description = "{{.Description}}"
  {{- if .IsSecret}}
  sensitive   = true
  {{- end}}
  type        = string
  {{- if .Default}}
  default     = "{{.Default}}"
  {{- end}}
}
{{- end}}
{{- end}}

{{- if .HasArguments}}
{{- range .Arguments}}
variable "{{.Name | lower}}" {
  description = "{{.Description}}"
  type        = string
  {{- if .Default}}
  default     = "{{.Default}}"
  {{- end}}
}
{{- end}}
{{- end}}